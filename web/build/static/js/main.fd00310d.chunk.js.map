{"version":3,"sources":["components/const.js","components/VideoView.js","components/Info.js","components/App.js","reportWebVitals.js","index.js"],"names":["DATA_URL","window","location","protocol","hostname","VideoView","stream","Container","className","style","maxHeight","src","Item","name","value","width","Info","props","useState","params","setParams","options","onChangeOptions","a","fetch","resp","ok","json","f","useEffect","interval","setInterval","fetchFps","clearInterval","console","log","FormControl","variant","sx","m","minWidth","InputLabel","id","Select","labelId","type","label","onChange","e","target","MenuItem","size","read_fps","toFixed","detect_fps","yolo_time","deep_sort_time","App","setOptions","d","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd00310d.chunk.js","sourcesContent":["const host = window.location.protocol + \"//\" + window.location.hostname;\r\n\r\nexport const DATA_URL = host + ':5000/api/'\r\n// export const DATA_URL = 'http://localhost:5000/'\r\n","import {Container} from \"react-bootstrap-v5\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {DATA_URL} from \"./const\";\r\n\r\n\r\nexport function VideoView({stream}) {\r\n\r\n    return (\r\n        <Container className=\"d-flex\">\r\n            <img className=\"ms-auto me-auto w-100\" style={{maxHeight: 'calc(100vh - 70px)'}} src={stream}/>\r\n        </Container>\r\n    )\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {DATA_URL} from \"./const\";\r\nimport {FormControl, InputLabel, MenuItem, Select} from \"@material-ui/core\";\r\n\r\nfunction Item({name, value}) {\r\n    return (\r\n        <tr>\r\n            <td className=\"fw-bold\" style={{width: '200px'}}>{name}:</td>\r\n            <td className=\"text-end\">{value}</td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport function Info(props) {\r\n    const [params, setParams] = useState();\r\n    let options = props.options\r\n    let onChangeOptions = props.onChangeOptions\r\n\r\n    async function fetchFps() {\r\n        let resp = await fetch(DATA_URL + \"params\")\r\n        if (resp.ok) {\r\n            let f = await resp.json()\r\n            setParams(f)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            fetchFps()\r\n        }, 5000);\r\n        return () => clearInterval(interval);\r\n    }, [props]);\r\n\r\n    console.log('opt', options)\r\n\r\n    return (\r\n        <div className=\"w-auto me-2\">\r\n            <div className=\"border p-2\">\r\n                <FormControl className=\"m-2 w-100\" variant=\"standard\" sx={{m: 1, minWidth: 120}}>\r\n                    <InputLabel id=\"type-label\">Тип</InputLabel>\r\n                    <Select\r\n                        labelId=\"type-label\"\r\n                        id=\"type-select\"\r\n                        value={options?.type}\r\n                        label=\"Тип\"\r\n                        variant=\"standard\"\r\n                        sx={{width: 400}}\r\n                        onChange={(e) => onChangeOptions?.({...options, type: e.target.value})}\r\n                    >\r\n                        <MenuItem value={\"raw\"}>raw</MenuItem>\r\n                        <MenuItem value={\"detected\"}>detected</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl className=\"m-2 w-100\" variant=\"standard\" sx={{m: 1, minWidth: 120}}>\r\n\r\n                    <InputLabel id=\"size-label\">Размер</InputLabel>\r\n                    <Select\r\n                        labelId=\"size-label\"\r\n                        id=\"size-select\"\r\n                        value={options?.size}\r\n                        label=\"Размер\"\r\n                        variant=\"standard\"\r\n                        sx={{width: 400}}\r\n                        onChange={(e) => onChangeOptions?.({...options, size: e.target.value})}\r\n                    >\r\n                        <MenuItem value={\"1080\"}>1080p</MenuItem>\r\n                        <MenuItem value={\"720\"}>720p</MenuItem>\r\n                        <MenuItem value={\"540\"}>540p</MenuItem>\r\n                        <MenuItem value={\"480\"}>480p</MenuItem>\r\n                        <MenuItem value={\"360\"}>360p</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </div>\r\n            <div className=\"border p-2\">\r\n                <table>\r\n                    <tbody>\r\n                    <Item name=\"read fps\" value={params?.read_fps?.toFixed?.(3)}/>\r\n                    <Item name=\"detect fps\" value={params?.detect_fps?.toFixed?.(3)}/>\r\n                    <Item name=\"yolo time\" value={params?.yolo_time?.toFixed?.(3)}/>\r\n                    <Item name=\"DeepSort time\" value={params?.deep_sort_time?.toFixed?.(3)}/>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.min.css\"\nimport {Nav, Navbar} from \"react-bootstrap-v5\";\nimport React, {useState} from \"react\";\nimport \"./styles.css\"\nimport {DATA_URL} from \"./const\";\nimport {VideoView} from \"./VideoView\";\nimport {Info} from \"./Info\"\n\nfunction App(props) {\n    const [page, setPage] = useState(0)\n    const [options, setOptions] = useState({size: '1080', type: 'detected'})\n\n    return (\n        <div>\n            {/*<Navbar bg=\"secondary\" variant=\"dark\" className=\"mb-1\">*/}\n            {/*    <div onClick={() => setPage(1)} className=\"navbar-brand\">Стрим</div>*/}\n            {/*    <Nav className=\"mr-auto\">*/}\n            {/*        <div onClick={() => setPage(0)} className=\"nav-link cursor-pointer\">Detected</div>*/}\n            {/*        <div onClick={() => setPage(1)} className=\"nav-link cursor-pointer\">Raw</div>*/}\n            {/*    </Nav>*/}\n            {/*</Navbar>*/}\n            <div className=\"d-flex mt-2\">\n                <VideoView stream={DATA_URL + \"stream?type=\" + options?.type + \"&size=\" + options?.size}/>\n                <Info options={options} onChangeOptions={d => setOptions(d)}/>\n            </div>\n\n        </div>\n    )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}